<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç™»å½• - å°å§¨å­çš„è¯±æƒ‘</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/tailwind.min.css">
  <style>
    body{background:#0c0a0f;min-height:100vh;position:relative;overflow:hidden}
    body::before{content:'';position:fixed;top:-40%;left:-30%;width:80vw;height:80vw;border-radius:50%;background:radial-gradient(circle,rgba(244,63,94,0.15) 0%,transparent 60%);animation:drift 8s ease-in-out infinite alternate}
    body::after{content:'';position:fixed;bottom:-30%;right:-20%;width:60vw;height:60vw;border-radius:50%;background:radial-gradient(circle,rgba(251,146,60,0.1) 0%,transparent 60%);animation:drift 8s ease-in-out infinite alternate-reverse}
    @keyframes drift{0%{transform:translate(0,0)}100%{transform:translate(30px,20px)}}
    .glass{background:rgba(255,255,255,0.03);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.06);box-shadow:0 8px 32px rgba(0,0,0,0.4),inset 0 1px 0 rgba(255,255,255,0.05)}
    .glow-btn{background:linear-gradient(135deg,#f43f5e,#e11d48);box-shadow:0 4px 24px rgba(244,63,94,0.35);transition:all .3s}
    .glow-btn:hover{box-shadow:0 8px 36px rgba(244,63,94,0.5);transform:translateY(-2px)}
    .glow-btn:active{transform:translateY(0)}
  </style>
</head>
<body class="flex items-center justify-center px-4">
  <div class="glass rounded-3xl p-10 max-w-sm w-full text-center">
    <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-rose-500 to-orange-500 flex items-center justify-center text-3xl shadow-lg shadow-rose-500/25">ğŸ‘</div>
    <h1 class="text-2xl font-bold text-white mb-1">å°å§¨å­çš„è¯±æƒ‘</h1>
    <p class="text-gray-500 text-sm mb-8">ä½¿ç”¨ NodeLoc è´¦å·ç™»å½•ä»¥ç»§ç»­</p>
    <% if (error) { %>
      <div class="glass rounded-xl p-3 mb-6 border-red-500/30 bg-red-500/10">
        <p class="text-red-300 text-sm"><%= error %></p>
      </div>
    <% } %>
    <a href="/auth/nodeloc" class="glow-btn inline-flex items-center justify-center w-full text-white font-semibold py-3.5 px-6 rounded-xl text-sm">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/></svg>
      NodeLoc ç™»å½•
    </a>
    <div class="flex items-center gap-3 my-5">
      <div class="flex-1 h-px bg-white/10"></div>
      <span class="text-gray-600 text-xs">æˆ–</span>
      <div class="flex-1 h-px bg-white/10"></div>
    </div>
    <a href="javascript:void(0)" onclick="tgLogin()" class="inline-flex items-center justify-center w-full text-white font-semibold py-3.5 px-6 rounded-xl text-sm transition" style="background:linear-gradient(135deg,#2AABEE,#229ED9);box-shadow:0 4px 24px rgba(42,171,238,0.35)" onmouseover="this.style.boxShadow='0 8px 36px rgba(42,171,238,0.5)';this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='0 4px 24px rgba(42,171,238,0.35)';this.style.transform='none'">
      <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.479.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
      Telegram ç™»å½•
    </a>
    <script>
    function tgLogin() {
      const w = 550, h = 470;
      const left = (screen.width - w) / 2, top = (screen.height - h) / 2;
      window.open(
        'https://oauth.telegram.org/auth?bot_id=8285374502&origin=' + encodeURIComponent(location.origin) + '&request_access=write',
        'tg_login', 'width=' + w + ',height=' + h + ',left=' + left + ',top=' + top
      );
      window.addEventListener('message', function(e) {
        if (e.origin !== 'https://oauth.telegram.org') return;
        const data = typeof e.data === 'string' ? JSON.parse(e.data) : e.data;
        if (data.event === 'auth_result' && data.result) {
          const params = new URLSearchParams(data.result);
          location.href = '/auth/telegram?' + params.toString();
        }
      });
    }
    </script>
    <p class="text-gray-600 text-xs mt-6">ä»…é™æˆæƒç”¨æˆ·ä½¿ç”¨</p>
  </div>
</body>
</html>
